:root {
	/* Light theme */
	--bg: #f6f7fb;
	--card: #ffffff;
	--accent: #2563eb;
	--accent-2: #60a5fa;
	--muted: #6b7280;
	--success: #16a34a;
	--error: #ef4444;
	--text: #0f172a;
	--outline: #e5e7eb;
	--glow-success: 0 0 10px rgba(22,163,74,0.5);
	--glow-error: 0 0 10px rgba(239,68,68,0.5);
	--glow-accent: 0 0 12px rgba(37,99,235,0.4);
}

[data-theme="dark"] {
	/* Dark theme */
	--bg: #0b1220;
	--card: #1a2233;
	--accent: #60a5fa;
	--accent-2: #3b82f6;
	--muted: #9ca3af;
	--success: #22c55e;
	--error: #f87171;
	--text: #f9fafb;
	--outline: #334155;
	--glow-success: 0 0 10px rgba(34,197,94,0.4);
	--glow-error: 0 0 10px rgba(248,113,113,0.4);
	--glow-accent: 0 0 15px rgba(96,165,250,0.4);
}

* { box-sizing: border-box; }

html, body {
	margin: 0;
	padding: 0;
	font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
	background: var(--bg);
	color: var(--text);
	min-height: 100%;
	scroll-behavior: smooth;
	transition: background 0.3s ease, color 0.3s ease;
}

/* --------------------------------------------------- */
/* NAVBAR */
/* --------------------------------------------------- */
.navbar {
	background: var(--card);
	border-bottom: 1px solid var(--outline);
	color: var(--text);
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
	position: sticky;
	top: 0;
	z-index: 1000;
	padding: 10px 20px;
	backdrop-filter: blur(6px);
	transition: all 0.3s ease;
}
.navbar-brand {
	font-weight: 600;
	color: var(--text) !important;
}
#themeToggleBtn {
	padding: 6px 12px;
	font-size: 14px;
}
.navbar.scrolled {
	background: rgba(37, 99, 235, 0.08);
	box-shadow: 0 0 18px rgba(37, 99, 235, 0.25), inset 0 -1px 0 var(--accent);
	backdrop-filter: blur(10px);
}
[data-theme="dark"] .navbar.scrolled {
	background: rgba(96, 165, 250, 0.1);
	box-shadow: 0 0 20px rgba(96, 165, 250, 0.35), inset 0 -1px 0 var(--accent-2);
}

/* --------------------------------------------------- */
/* CARD */
/* --------------------------------------------------- */
.card {
	background: var(--card);
	border: 1px solid var(--outline);
	border-radius: 12px;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
	padding: 16px;
	color: var(--text);
	transition: all 0.3s ease;
}
[data-theme="dark"] .card {
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
}

/* --------------------------------------------------- */
/* BUTTONS */
/* --------------------------------------------------- */
.btn {
	border: 1px solid var(--outline);
	background: var(--card);
	color: var(--text);
	padding: 8px 14px;
	border-radius: 10px;
	cursor: pointer;
	transition: all 0.15s ease;
	font-weight: 500;
}
.btn:hover {
	transform: translateY(-1px);
	box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
	border-color: var(--accent);
}
.btn-accent {
	background: linear-gradient(135deg, var(--accent), var(--accent-2));
	color: #ffffff;
	border: none;
	box-shadow: 0 4px 14px rgba(37, 99, 235, 0.25);
}
.btn-accent:hover {
	transform: translateY(-2px);
	box-shadow: 0 0 20px var(--glow-accent);
}
.btn-outline-secondary,
.btn-outline-primary,
.btn-outline-warning,
.btn-outline-danger {
	border-width: 1px;
}
.d-flex.gap-2 button {
	min-width: 110px;
}

/* --------------------------------------------------- */
/* VISUALIZER */
/* --------------------------------------------------- */
#visualizerContainer {
	width: 100%;
	height: 460px;
	background: radial-gradient(circle at 40% 30%, var(--card), var(--bg));
	border-radius: 10px;
	border: 1px solid var(--outline);
	box-shadow: inset 0 0 40px rgba(37,99,235,0.08);
	position: relative;
}
[data-theme="dark"] #visualizerContainer {
	box-shadow: inset 0 0 40px rgba(96,165,250,0.15);
}

/* --------------------------------------------------- */
/* INFO + LEARNING OVERLAYS */
/* --------------------------------------------------- */
.info-card, .learning-overlay {
	backdrop-filter: blur(6px);
	background: rgba(255,255,255,0.9);
	color: var(--text);
	border: 1px solid var(--outline);
	border-radius: 10px;
	padding: 10px 12px;
	font-size: 13px;
	transition: all 0.3s ease;
}
[data-theme="dark"] .info-card,
[data-theme="dark"] .learning-overlay {
	background: rgba(26,34,51,0.9);
	color: #f9fafb;
}
.learning-overlay {
	position: absolute;
	left: 12px;
	bottom: 12px;
	max-width: 420px;
	font-size: 13px;
	line-height: 1.4;
	box-shadow: 0 8px 18px rgba(0,0,0,0.08);
}
.learning-overlay[hidden] {
	opacity: 0;
	transform: translateY(8px);
	pointer-events: none;
}

/* --------------------------------------------------- */
/* TIMELINE */
/* --------------------------------------------------- */
.timeline-bar {
	width: 100%;
	height: 8px;
	background: var(--outline);
	border-radius: 999px;
	overflow: hidden;
	margin-top: 6px;
}
.timeline-bar div {
	height: 100%;
	background: linear-gradient(90deg, var(--accent), var(--accent-2));
	border-radius: 999px;
	transition: width 0.3s ease;
}

/* --------------------------------------------------- */
/* LOGS + RESULTS */
/* --------------------------------------------------- */
#logs, #results {
	font-size: 14px;
}
#logs .item {
	margin: 6px 0;
	padding: 6px 8px;
	border-radius: 6px;
}
#logs .item.info {
	background: rgba(37,99,235,0.08);
	border-left: 3px solid var(--accent);
}
#logs .item.error {
	background: rgba(239,68,68,0.1);
	border-left: 3px solid var(--error);
	box-shadow: var(--glow-error);
}
#logs .item.success {
	background: rgba(22,163,74,0.1);
	border-left: 3px solid var(--success);
	box-shadow: var(--glow-success);
}
[data-theme="dark"] #logs .item.info {
	background: rgba(96,165,250,0.15);
}
[data-theme="dark"] #logs .item.error {
	background: rgba(248,113,113,0.15);
}
[data-theme="dark"] #logs .item.success {
	background: rgba(34,197,94,0.15);
}

/* --------------------------------------------------- */
/* PANELS */
/* --------------------------------------------------- */
#blockedPanel, #cachePanel {
	background: var(--card);
	color: var(--text);
	border: 1px solid var(--outline);
	border-radius: 8px;
	padding: 10px;
	font-size: 13px;
	line-height: 1.4;
	overflow-x: auto;
	white-space: pre-wrap;
	box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
}
[data-theme="dark"] #blockedPanel,
[data-theme="dark"] #cachePanel {
	box-shadow: inset 0 0 20px rgba(255,255,255,0.05);
}

/* Floating cache panel */
.cache-panel {
	position: fixed;
	right: 20px;
	bottom: 20px;
	width: 320px;
	max-height: 60vh;
	overflow: auto;
	background: var(--card);
	border: 1px solid var(--outline);
	border-radius: 12px;
	box-shadow: 0 12px 30px rgba(0,0,0,0.15);
	padding: 12px;
	color: var(--text);
	transition: opacity 200ms ease, transform 200ms ease;
	z-index: 9999;
}
.cache-panel[hidden] {
	opacity: 0;
	pointer-events: none;
	transform: translateY(8px);
}

/* --------------------------------------------------- */
/* FOOTER */
/* --------------------------------------------------- */
.site-footer {
	max-width: 1200px;
	margin: 40px auto;
	padding: 0 20px;
	color: var(--muted);
	text-align: center;
	font-size: 13px;
}

/* --------------------------------------------------- */
/* RESPONSIVE */
/* --------------------------------------------------- */
@media (max-width: 900px) {
	#visualizerContainer { height: 340px; }
	.info-card, .learning-overlay { max-width: 90%; font-size: 12px; }
	.navbar { flex-direction: column; gap: 8px; }
}
@media (max-width: 600px) {
	.btn, .form-control, select { font-size: 13px; padding: 8px 10px; }
	#logs, #results { font-size: 13px; }
	.card { padding: 12px; }
}
